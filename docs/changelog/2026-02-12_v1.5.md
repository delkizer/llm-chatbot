# v1.5 - 2026-02-12

## 변경 요약

embed 개발 페이지 UX 개선 (Quick Start 가이드, 로그인 모달, 샘플 네비게이션) 및 게이트웨이 토큰 자동 전달 구현

## 변경 내역

| 도메인 | 변경 | 상세 |
|--------|------|------|
| embed | dev 페이지 개선 | index.html — Quick Start 가이드 (서버 상태 표시), 로그인 모달 (JWT 발급→자동 세팅), 8종 프레임워크 샘플 카드 네비게이션 추가 |
| embed | 토큰 자동 전달 | gateway.py — TokenInjectionMiddleware 추가. 서버사이드 HTML 치환으로 dev-test-token을 실제 JWT로 교체 |
| embed | Angular 버그 수정 | angular.json — polyfills: ["zone.js"] 추가 (NG0908 에러 해결) |
| embed | 게이트웨이 포트 변경 | 8280→5174 일괄 변경 (gateway.py, manage.sh, landing.html, README.md, JetBrains Gateway.xml) |

## 수정 파일

| 파일 | 변경 내용 |
|------|----------|
| `embed/index.html` | Quick Start 가이드, 로그인 모달, 샘플 네비게이션, updateSampleLinks() |
| `embed/samples/gateway.py` | TokenInjectionMiddleware (서버사이드 토큰 치환), 포트 5174 |
| `embed/samples/angular/angular.json` | polyfills: ["zone.js"] 추가 |
| `embed/samples/manage.sh` | 포트 8280→5174 |
| `embed/samples/templates/landing.html` | 포트 8280→5174 |
| `embed/samples/README.md` | 포트 8280→5174 |

## 핵심 설계 결정

| 결정 | 내용 |
|------|------|
| 서버사이드 토큰 치환 | 클라이언트 JS 주입 대신 gateway 미들웨어에서 HTML 내 dev-test-token을 실제 JWT로 직접 치환. httponly 쿠키 제약 및 connectedCallback 타이밍 문제 해결 |
| 토큰 전달 경로 | dev 페이지 로그인 → 샘플 링크에 ?token= 쿼리 추가 → gateway가 요청에서 토큰 추출 → HTML 치환 |
| 게이트웨이 포트 5174 | WSL2→Windows 포트 포워딩 호환을 위해 8280에서 5174로 변경 |
| 개별 샘플 미수정 | 8종 샘플 소스 변경 없이 gateway 레벨에서 토큰 일괄 처리 |

## 커밋

- `b00af2e` feat: embed 개발 페이지 개선 및 게이트웨이 토큰 전달 구현
